# Vagrant-стенд c PAM

Описание домашнего задания:

В работе использовался vagrant box: "debian/bullseye64" version "11.20230615.1"

Цель домашнего задания
Научиться создавать пользователей и добавлять им ограничения

Описание домашнего задания
1) Запретить всем пользователям, кроме группы admin, логин в выходные (суббота и воскресенье), без учета праздников
2) Дать конкретному пользователю права работать с докером и возможность рестартить докер сервис

## Цели домашнего задания:

- рассмотреть механизмы авторизации и аутентификации;
- объяснить какие бывают права у пользовталей;
- управлять правами с помощью sudo, umask. sgid, suid и более сложными инструментами как PAM и ACL, PolicyKit.

### Ход выполнения домашнего задания

1) Запретить всем пользователям, кроме группы admin, логин в выходные (суббота и воскресенье), без учета праздников

В файле task_1/script.sh код содержит комментарии поясняющие выполнения домашнего задания.

3) Дать конкретному пользователю права работать с докером и возможность рестартить докер сервис

В файле task_2/script.sh код содержит комментарии поясняющие выполнения домашнего задания

#### Проверка домашнего задания
  
  I
  
   1) Запускаем task_1/Vagrantfile
   2) При входе по ssh в будний день выставляем выходную дату например ```date 082712302022.00```
   3) Затем пытаемся под пользователем user подключиться к машине по ssh в моем случае данной командой: ```ssh -p 2222 user@127.0.0.1```
   4) Видим что pam отбрасывает соединение т.к. пользователь не соответствует условиям скрипта.
 
  II
  
   1) Запускаем task_2/Vagrantfile
   2) Подключаемся к машине и меняем пользователя: ```su user``` ### password = user
   3) И проверяем возмоднсоти пользователя: ```sudo systemctl restart docker.service``` ```docker ps```
   4) Как мы видим команды успешно выполняются.
